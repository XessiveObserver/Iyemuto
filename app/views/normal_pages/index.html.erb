<div class="container mx-auto">    
    <div class="sm:flex sm:flex-row gap-5">
        <div class="basis-9/12">
        <h1 class="my-2 text-center text-5xl font-sans text-sky-500 bg-sky-50 p-2 rounded">Latest News</h1>
            
           
                <% @articles.each_with_index do |article, index| %>
                    <% if article.publisher == current_publisher || !current_publisher %>
                        <div class="inline-flex justify-center items-center flex-wrap  font-semibold text-center mt-5">
                            <div>
                                <%= link_to image_tag(article.article_photo.variant(resize_to_limit: [180, nil]),
                                class: "rounded mx-auto h-40"),article %>
                            
                                <%= link_to article.title, article, class: "text-sky-500 " %>
                                <p class=" font-normal text-sky-400  p-1 rounded">
                                  <%= time_ago_in_words(article.created_at, include_seconds: true, date_only: false) %> ago.
                                </p>

                            </div>
                        </div>
                    <% end %>
                <% end %>
           
        
        
            
                <% @categories.each do |category| %>
                    <h1 class="my-5 text-center text-5xl font-sans text-sky-500 bg-sky-50 p-2 mt-5 rounded"><%= category %></h1>
                    <% @articles_by_category[category].each do |article| %>
                        <div class="inline-flex justify-center items-center flex-wrap font-semibold text-center">
                            <div>
                                <%= link_to image_tag(article.article_photo.variant(resize_to_limit: [110, nil]),
                                class: "rounded h-36 mx-auto"), article %>
                                <%= link_to article.title, article, class: "text-sky-500" %>
                                <p class=" font-normal text-sky-400  p-1 rounded">
                                <%= time_ago_in_words(article.created_at, include_seconds: true, date_only: false) %> ago.
                                </p>
                            </div>
                        </div>
                    <% end %>
                <% end %>
            </ul>
            
        </div>
        <div class="basis-3/12">
        <h1 class="my-2 text-center text-5xl font-sans text-sky-500 bg-sky-50 p-2 rounded">Editors Pick</h1>
            <% if @latest_articles.present? %>
                <% @latest_articles.each do |article| %>
                    
                        <div class="font-bold list-none flex mx-auto my-3 gap-3">
                            
                            <div>
                                <%= link_to image_tag(article.article_photo.variant(resize_to_limit: [100, nil]),
                                class: "rounded "), article %>
                            </div>
                            <div>
                                <%= link_to article.title, article, class: "text-sky-500 my-auto " %>
                            <p class="font-normal text-sky-400  p-1 rounded">
                                <%= time_ago_in_words(article.created_at, include_seconds: true, date_only: false) %> ago.
                            </p>
                            </div>  
                        </div>
                    
                <% end %>
            <% else %>
                    <p>No editor picked articles found.</p>
            <% end %>
            </ul>
        <h1 class="my-2 text-center text-5xl font-sans text-sky-500 bg-sky-50 p-2 rounded">General News</h1>
            <% if @random_articles.present? %>
                <% @latest_articles.each do |article| %>
                    
                        <div class="font-bold list-none flex mx-auto my-3 gap-3">
                            
                            <div>
                                <%= link_to image_tag(article.article_photo.variant(resize_to_limit: [100, nil]),
                                class: "rounded "), article %>
                            </div>
                            <div>
                                <%= link_to article.title, article, class: "text-sky-500 my-auto " %>
                            <p class="font-normal text-sky-400  p-1 rounded">
                                <%= time_ago_in_words(article.created_at, include_seconds: true, date_only: false) %> ago.
                            </p>
                            </div>  
                        </div>
                    
                <% end %>
            <% else %>
                    <p>No general news articles found.</p>
            <% end %>
            </ul>
        </div>
    </div>
    

    
</div>